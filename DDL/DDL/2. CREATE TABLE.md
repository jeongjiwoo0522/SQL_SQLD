# 3. CREATE TABLE

테이블은 일정한 형식으로 생성되는데, 테이블 생성을 위해 **입력될 데이터를 정의**하고 어떤 **데이터 유형으로 선언할지 정해야 한다.**



### 가. 테이블과 컬럼 정의

---

**모든 데이터를 식별할 수 있으며 값이 반드시 존재하는 컬럼 또는 컬럼들** 중에 하나를 선정해서 **기본 키 컬럼**으로 지정한다.

기본 키는 단일 컬럼이 아니라 여러 컬럼의 조합으로도 만들어질 수 있다.



테이블간의 관계는 **기본 키**와 **외래 키**를 활용해야 한다.

만약 선수 테이블에 선우의 소속팀 정보가 함께 존재하게 되면 다음과 같은 문제가 발생한다.

- 팀이 변경되었을 경우 해당 팀에 소속된 선수들을 일일이 찾아서 수정해야 한다. - **수정 이상**
- 팀이 해체될 경우 선수 관련 정보도 삭제된다. - **삭제 이상**

> 이 이에도 데이터를 삽입할 때 문제가 발생하는 삽입 이상이 있다.



### 나. CREATE TABLE

---

테이블 생성 형식은 다음과 같다.

```sql
CREATE TABLE 테이블명(
    컬럼1 DATATYPE [DEFAULT 형식],
    컬럼2 DATATYPE [DEFAULT 형식]
)
```



**주의점 및 규칙**

- 테이블명은 객체를 의미할 수 있는 이름을 사용한다.

- 가능한 단수형을 사용한다.

- 컬럼명이 중복되면 안된다.

- 테이블 이름을 지정하고, 각 컬럼을 괄호로 묶어서 지정한다.

- 컬럼들은 콤마로 구분되고, 테이블 생성문 끝은 세미콜론을 붙여야 한다.

- 컬럼은 다른 테이블을 고려해서 일관성 있게 사용하는게 좋다.

  - 데이터 표준화 관점

- 컬럼 뒤 데이터 유형은 꼭 지정해야 한다.

- 테이블, 컬럼명은 항상 문자로 시작해야 한다.

- 예약어는 이름에 사용할 수 없다.

- 다른 테이블에선 컬럼 이름이 같을 수 있다.

- 테이블 생성 시 대소문자 구분은 하지 않는다.

  > 최근에는 DBMS가 이 규칙을 잘 따르지 않는다.

- DATETIME 유형에는 크기를 지정하지 않는다.

- 문자 데이터 타입은 반드시 최대 길이를 표시해야 한다.

- 제약조건은 CONSTRAINT로 추가할 수 있다.



### 다. 제약조건

---

제약조건은 **사용자가 원하는 데이터만 유지(데이터 무결성 유지)하기 위한 데이터베이스의 보편적인 방법**이다.

제약조건은 **테이블의 특정 컬럼에 조건을 설정**한다.



#### 제약조건의 종류

| 구분        | 설명                                                         |
| ----------- | ------------------------------------------------------------ |
| PRIMARY KEY | 테이블에 저장된 행 데이터를 고유하게 식별하기 위한 기본키.<br />하나의 테이블에는 하나의 기본키 제약만 존재할 수 있다.<br />기본 키 제약조건을 정의하면 DBMS는 자동으로 UNIQUE 인덱스를 생성한다.<br />기본 키 컬럼에는 NULL을 입력할 수 없다. |
| UNIQUE KEY  | 테이블에 저장된 행 데이터를 고유하게 식별하기 위한 고유키.<br />NULL은 고유키 제약의 대상이 아니라서 NULL이 여러개 존재할 수 있다. |
| NOT NULL    | NULL 입력을 금지한다.                                        |
| CHECK       | 입력할 수 있는 값의 범위를 제한한다.<br />TRUE/FALSE로 평가할 수 있는 논리식을 지정한다. |
| FOREIGN KEY | 관계형 데이터베이스에서 테이블 간의 관계를 정의하기 위해 기본키를 다른 테이블의 외래 키로 복사하는 경우 생성된다. |

> NULL은 ASCII 코드 00번으로 **아직 정의되지 않은 미지의 값**을 의미한다.
>
> 즉 ''이나 0과는 다르다.



### 라. 생성된 테이블 구조 확인

---

테이블을 생성한 후 테이블의 구조를 확인하기 위해선 다음과 같이 확인할 수 있다.

```  sql
DESCRIBE 테이블;
DESC 테이블;
```

